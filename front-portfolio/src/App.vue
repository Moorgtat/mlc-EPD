<template>
    <div id="app">
        <nav id="genNavbar" class="navbar navbar-expand-sm navbar-light">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a id="affportfo" href="/home" class="navbar-brand mb-auto h1">
                        <svg width="116" height="35" viewBox="0 0 96 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.0861 0.751999H13.6781L11.7881 14H9.19605L10.3481 5.918L6.96406 14H4.49805L4.85805 5.882L1.85205 14H0.412055L4.98405 1.634C4.06005 1.946 3.35205 2.45 2.86005 3.146C2.36805 3.842 2.12205 4.688 2.12205 5.684C2.12205 5.924 2.13405 6.134 2.15805 6.314C2.19405 6.482 2.24805 6.638 2.32005 6.782C2.34405 6.83 2.35605 6.866 2.35605 6.89C2.36805 6.902 2.37405 6.914 2.37405 6.926C1.72605 6.926 1.24005 6.794 0.916055 6.53C0.604055 6.254 0.448055 5.84 0.448055 5.288C0.448055 4.712 0.622055 4.13 0.970055 3.542C1.33005 2.942 1.82205 2.396 2.44605 1.904C3.01005 1.46 3.61605 1.118 4.26406 0.877999C4.91205 0.625999 5.54805 0.499999 6.17206 0.499999C6.40006 0.499999 6.62805 0.523999 6.85605 0.571999C7.09606 0.607999 7.32406 0.667999 7.54006 0.751999L7.12606 10.238L11.0861 0.751999ZM13.23 11.948C13.23 11.792 13.242 11.618 13.266 11.426C13.29 11.222 13.326 11.006 13.374 10.778L15.3 1.76L17.964 1.4L15.894 11.12C15.87 11.228 15.852 11.33 15.84 11.426C15.828 11.51 15.822 11.6 15.822 11.696C15.822 11.936 15.876 12.11 15.984 12.218C16.104 12.314 16.296 12.362 16.56 12.362C16.896 12.362 17.214 12.218 17.514 11.93C17.814 11.63 18.036 11.246 18.18 10.778H18.936C18.552 11.87 18.036 12.698 17.388 13.262C16.74 13.826 15.996 14.108 15.156 14.108C14.556 14.108 14.082 13.922 13.734 13.55C13.398 13.166 13.23 12.632 13.23 11.948ZM24.7789 6.494C24.7789 6.902 24.6889 7.226 24.5089 7.466C24.3409 7.694 24.1129 7.808 23.8249 7.808C23.7289 7.808 23.6269 7.79 23.5189 7.754C23.4109 7.718 23.3029 7.664 23.1949 7.592C23.2669 7.4 23.3209 7.214 23.3569 7.034C23.3929 6.854 23.4109 6.686 23.4109 6.53C23.4109 6.29 23.3689 6.11 23.2849 5.99C23.2009 5.858 23.0749 5.792 22.9069 5.792C22.3789 5.792 21.8629 6.404 21.3589 7.628C20.8549 8.84 20.6029 9.992 20.6029 11.084C20.6029 11.636 20.6929 12.026 20.8729 12.254C21.0649 12.482 21.4069 12.596 21.8989 12.596C22.4629 12.596 22.9789 12.47 23.4469 12.218C23.9269 11.954 24.4729 11.474 25.0849 10.778H25.6969C25.0009 11.906 24.2449 12.746 23.4289 13.298C22.6129 13.838 21.7189 14.108 20.7469 14.108C19.8229 14.108 19.1209 13.868 18.6409 13.388C18.1729 12.908 17.9389 12.194 17.9389 11.246C17.9389 10.562 18.0409 9.836 18.2449 9.068C18.4609 8.3 18.7549 7.616 19.1269 7.016C19.5709 6.296 20.0989 5.756 20.7109 5.396C21.3349 5.024 22.0249 4.838 22.7809 4.838C23.4409 4.838 23.9389 4.982 24.2749 5.27C24.6109 5.546 24.7789 5.954 24.7789 6.494ZM25.4231 10.004L25.7471 8.582H29.3471L29.0411 10.004H25.4231ZM34.5858 14H31.9938L34.4418 2.552L37.1058 2.192L35.8278 8.204C36.6678 8.132 37.3998 7.64 38.0238 6.728C38.6598 5.816 38.9778 4.832 38.9778 3.776C38.9778 3.008 38.7798 2.408 38.3838 1.976C37.9998 1.544 37.4538 1.328 36.7458 1.328C35.2818 1.328 34.1358 1.718 33.3078 2.498C32.4918 3.266 32.0838 4.334 32.0838 5.702C32.0838 5.93 32.0958 6.128 32.1198 6.296C32.1558 6.464 32.2098 6.626 32.2818 6.782C32.3058 6.83 32.3178 6.866 32.3178 6.89C32.3298 6.902 32.3358 6.914 32.3358 6.926C31.6638 6.926 31.1718 6.788 30.8598 6.512C30.5598 6.224 30.4098 5.78 30.4098 5.18C30.4098 4.58 30.6078 3.98 31.0038 3.38C31.4118 2.78 31.9758 2.24 32.6958 1.76C33.3078 1.364 33.9618 1.058 34.6578 0.842C35.3658 0.613999 36.0558 0.499999 36.7278 0.499999C38.0478 0.499999 39.0858 0.823999 39.8418 1.472C40.5978 2.12 40.9758 2.978 40.9758 4.046C40.9758 4.682 40.8318 5.306 40.5438 5.918C40.2678 6.53 39.8778 7.064 39.3738 7.52C38.8938 7.964 38.3478 8.3 37.7358 8.528C37.1238 8.756 36.4698 8.87 35.7738 8.87H35.6838L34.5858 14ZM40.3681 11.228C40.3681 10.544 40.4761 9.818 40.6921 9.05C40.9201 8.282 41.2261 7.598 41.6101 6.998C42.0541 6.29 42.5881 5.756 43.2121 5.396C43.8361 5.024 44.5321 4.838 45.3001 4.838C46.0681 4.838 46.6441 5.078 47.0281 5.558C47.4121 6.038 47.6041 6.758 47.6041 7.718C47.6281 7.73 47.6521 7.742 47.6761 7.754C47.7121 7.754 47.7541 7.754 47.8021 7.754C48.1741 7.754 48.6181 7.652 49.1341 7.448C49.6501 7.244 50.1301 6.986 50.5741 6.674L50.7361 7.16C50.4001 7.52 49.9501 7.832 49.3861 8.096C48.8341 8.36 48.2221 8.546 47.5501 8.654C47.4061 10.274 46.9381 11.582 46.1461 12.578C45.3541 13.574 44.3881 14.072 43.2481 14.072C42.3121 14.072 41.5981 13.832 41.1061 13.352C40.6141 12.872 40.3681 12.164 40.3681 11.228ZM45.4441 5.936C44.8681 5.936 44.3221 6.518 43.8061 7.682C43.3021 8.846 43.0501 9.95 43.0501 10.994C43.0501 11.558 43.1101 11.942 43.2301 12.146C43.3621 12.35 43.6081 12.452 43.9681 12.452C44.4121 12.452 44.8321 12.092 45.2281 11.372C45.6361 10.652 45.9121 9.764 46.0561 8.708C45.8881 8.672 45.7621 8.594 45.6781 8.474C45.6061 8.342 45.5701 8.168 45.5701 7.952C45.5701 7.724 45.6181 7.526 45.7141 7.358C45.8101 7.19 45.9481 7.064 46.1281 6.98C46.1041 6.596 46.0381 6.326 45.9301 6.17C45.8341 6.014 45.6721 5.936 45.4441 5.936ZM50.4383 14H47.8463L49.7543 5H52.3463L52.1123 6.116C52.6403 5.672 53.0543 5.378 53.3543 5.234C53.6663 5.078 53.9783 5 54.2903 5C54.6623 5 54.9623 5.132 55.1903 5.396C55.4183 5.648 55.5323 5.966 55.5323 6.35C55.5323 6.722 55.4123 7.034 55.1723 7.286C54.9323 7.538 54.6203 7.664 54.2363 7.664C54.0323 7.664 53.8703 7.616 53.7503 7.52C53.6423 7.424 53.5643 7.226 53.5163 6.926C53.4803 6.734 53.4383 6.614 53.3903 6.566C53.3423 6.506 53.2763 6.476 53.1923 6.476C52.9883 6.476 52.7963 6.518 52.6163 6.602C52.4363 6.686 52.1903 6.872 51.8783 7.16L50.4383 14ZM55.9279 5H56.5219L57.0619 2.516L59.7259 2.156L59.1139 5H60.1939L60.0499 5.72H58.9699L57.8179 11.12C57.7939 11.228 57.7759 11.33 57.7639 11.426C57.7519 11.51 57.7459 11.6 57.7459 11.696C57.7459 11.936 57.7999 12.11 57.9079 12.218C58.0279 12.314 58.2199 12.362 58.4839 12.362C58.8199 12.362 59.1379 12.218 59.4379 11.93C59.7379 11.63 59.9599 11.246 60.1039 10.778H60.8599C60.4759 11.87 59.9599 12.698 59.3119 13.262C58.6639 13.826 57.9199 14.108 57.0799 14.108C56.4799 14.108 56.0059 13.922 55.6579 13.55C55.3219 13.166 55.1539 12.632 55.1539 11.948C55.1539 11.792 55.1659 11.618 55.1899 11.426C55.2139 11.222 55.2499 11.006 55.2979 10.778L56.3779 5.72H55.7839L55.9279 5ZM69.2947 2.66C68.9707 2.66 68.6107 2.636 68.2147 2.588C67.8307 2.528 67.3507 2.438 66.7747 2.318L66.0187 5.9H68.6467L68.3587 7.232H65.7307L64.2727 14H61.6807L64.2727 1.976C63.4447 2.012 62.8447 2.33 62.4727 2.93C62.1127 3.53 61.9327 4.454 61.9327 5.702C61.9327 5.93 61.9447 6.128 61.9687 6.296C62.0047 6.464 62.0587 6.626 62.1307 6.782C62.1547 6.83 62.1667 6.866 62.1667 6.89C62.1787 6.902 62.1847 6.914 62.1847 6.926C61.5127 6.926 61.0207 6.788 60.7087 6.512C60.4087 6.224 60.2587 5.78 60.2587 5.18C60.2587 3.752 60.7927 2.618 61.8607 1.778C62.9407 0.925999 64.4527 0.499999 66.3967 0.499999C66.5047 0.499999 66.6367 0.505999 66.7927 0.518C66.9487 0.53 67.2067 0.553999 67.5667 0.589999C68.0467 0.637999 68.4127 0.673999 68.6647 0.698C68.9287 0.709999 69.1687 0.715999 69.3847 0.715999C69.7087 0.715999 70.0027 0.697999 70.2667 0.661999C70.5307 0.625999 70.7767 0.571999 71.0047 0.499999C70.9927 0.523999 70.9387 0.709999 70.8427 1.058C70.7467 1.406 70.6327 1.682 70.5007 1.886C70.3687 2.09 70.2007 2.258 69.9967 2.39C69.8047 2.51 69.5707 2.6 69.2947 2.66ZM68.1064 11.228C68.1064 10.544 68.2144 9.818 68.4304 9.05C68.6584 8.282 68.9644 7.598 69.3484 6.998C69.7924 6.29 70.3264 5.756 70.9504 5.396C71.5744 5.024 72.2704 4.838 73.0384 4.838C73.8064 4.838 74.3824 5.078 74.7664 5.558C75.1504 6.038 75.3424 6.758 75.3424 7.718C75.3664 7.73 75.3904 7.742 75.4144 7.754C75.4504 7.754 75.4924 7.754 75.5404 7.754C75.9124 7.754 76.3564 7.652 76.8724 7.448C77.3884 7.244 77.8684 6.986 78.3124 6.674L78.4744 7.16C78.1384 7.52 77.6884 7.832 77.1244 8.096C76.5724 8.36 75.9604 8.546 75.2884 8.654C75.1444 10.274 74.6764 11.582 73.8844 12.578C73.0924 13.574 72.1264 14.072 70.9864 14.072C70.0504 14.072 69.3364 13.832 68.8444 13.352C68.3524 12.872 68.1064 12.164 68.1064 11.228ZM73.1824 5.936C72.6064 5.936 72.0604 6.518 71.5444 7.682C71.0404 8.846 70.7884 9.95 70.7884 10.994C70.7884 11.558 70.8484 11.942 70.9684 12.146C71.1004 12.35 71.3464 12.452 71.7064 12.452C72.1504 12.452 72.5704 12.092 72.9664 11.372C73.3744 10.652 73.6504 9.764 73.7944 8.708C73.6264 8.672 73.5004 8.594 73.4164 8.474C73.3444 8.342 73.3084 8.168 73.3084 7.952C73.3084 7.724 73.3564 7.526 73.4524 7.358C73.5484 7.19 73.6864 7.064 73.8664 6.98C73.8424 6.596 73.7764 6.326 73.6684 6.17C73.5724 6.014 73.4104 5.936 73.1824 5.936ZM76.23 11.948C76.23 11.792 76.242 11.618 76.266 11.426C76.29 11.222 76.326 11.006 76.374 10.778L78.3 1.76L80.964 1.4L78.894 11.12C78.87 11.228 78.852 11.33 78.84 11.426C78.828 11.51 78.822 11.6 78.822 11.696C78.822 11.936 78.876 12.11 78.984 12.218C79.104 12.314 79.296 12.362 79.56 12.362C79.896 12.362 80.214 12.218 80.514 11.93C80.814 11.63 81.036 11.246 81.18 10.778H81.936C81.552 11.87 81.036 12.698 80.388 13.262C79.74 13.826 78.996 14.108 78.156 14.108C77.556 14.108 77.082 13.922 76.734 13.55C76.398 13.166 76.23 12.632 76.23 11.948ZM85.531 2.606C85.531 3.002 85.387 3.338 85.099 3.614C84.823 3.89 84.487 4.028 84.091 4.028C83.695 4.028 83.359 3.89 83.083 3.614C82.807 3.338 82.669 3.002 82.669 2.606C82.669 2.21 82.807 1.874 83.083 1.598C83.359 1.31 83.695 1.166 84.091 1.166C84.487 1.166 84.823 1.31 85.099 1.598C85.387 1.874 85.531 2.21 85.531 2.606ZM80.941 11.948C80.941 11.792 80.953 11.618 80.977 11.426C81.001 11.222 81.037 11.006 81.085 10.778L82.309 5H84.901L83.605 11.12C83.581 11.228 83.563 11.33 83.551 11.426C83.539 11.51 83.533 11.6 83.533 11.696C83.533 11.936 83.587 12.11 83.695 12.218C83.815 12.314 84.007 12.362 84.271 12.362C84.607 12.362 84.925 12.218 85.225 11.93C85.525 11.63 85.747 11.246 85.891 10.778H86.647C86.263 11.87 85.747 12.698 85.099 13.262C84.451 13.826 83.707 14.108 82.867 14.108C82.267 14.108 81.793 13.922 81.445 13.55C81.109 13.166 80.941 12.632 80.941 11.948ZM85.6318 11.228C85.6318 10.544 85.7398 9.818 85.9558 9.05C86.1838 8.282 86.4898 7.598 86.8738 6.998C87.3178 6.29 87.8518 5.756 88.4758 5.396C89.0998 5.024 89.7958 4.838 90.5638 4.838C91.3318 4.838 91.9078 5.078 92.2918 5.558C92.6758 6.038 92.8678 6.758 92.8678 7.718C92.8918 7.73 92.9158 7.742 92.9398 7.754C92.9758 7.754 93.0178 7.754 93.0658 7.754C93.4378 7.754 93.8818 7.652 94.3978 7.448C94.9138 7.244 95.3938 6.986 95.8378 6.674L95.9998 7.16C95.6638 7.52 95.2138 7.832 94.6498 8.096C94.0978 8.36 93.4858 8.546 92.8138 8.654C92.6698 10.274 92.2018 11.582 91.4098 12.578C90.6178 13.574 89.6518 14.072 88.5118 14.072C87.5758 14.072 86.8618 13.832 86.3698 13.352C85.8778 12.872 85.6318 12.164 85.6318 11.228ZM90.7078 5.936C90.1318 5.936 89.5858 6.518 89.0698 7.682C88.5658 8.846 88.3138 9.95 88.3138 10.994C88.3138 11.558 88.3738 11.942 88.4938 12.146C88.6258 12.35 88.8718 12.452 89.2318 12.452C89.6758 12.452 90.0958 12.092 90.4918 11.372C90.8998 10.652 91.1758 9.764 91.3198 8.708C91.1518 8.672 91.0258 8.594 90.9418 8.474C90.8698 8.342 90.8338 8.168 90.8338 7.952C90.8338 7.724 90.8818 7.526 90.9778 7.358C91.0738 7.19 91.2118 7.064 91.3918 6.98C91.3678 6.596 91.3018 6.326 91.1938 6.17C91.0978 6.014 90.9358 5.936 90.7078 5.936Z" fill="black"/>
                        </svg>

                    </a>
                </li>
            </ul>
            <div class="collapse navbar-collapse" id="navbarToggler">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item" v-if="currentUser">
                        <a href="/user" class="nav-link">Goodies</a>
                    </li>
                    <li class="nav-item" v-if="showAdminBoard">
                        <a href="/admin" class="nav-link">Admin</a>
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto" v-if="!currentUser">
                    <!--        <li class="nav-item">-->
                    <!--          <a class="nav-link" @click="registerModal()">Register</a>-->
                    <!--        </li>-->
                    <li class="nav-item">
                        <a class="nav-link"><img id="iconetwitter" src="../public/icone-twitter.png"
                                                 onclick="window.open('https://twitter.com/MatLcd')" alt="Mon Twitter"/></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"> <img id="iconegithub" src="../public/icone-github.png"
                                                  onclick="window.open('https://github.com/Moorgtat')" alt="Mon GitHub"/></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" @click="loginModal()"><img id="iconelogin" src="../public/icone-login3.png"
                        alt="icone de login"/></a>
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto" v-if="currentUser">
                    <li class="nav-item">
                        <a href="/profile" class="nav-link">{{currentUser.username}}</a>
                    </li>
                    <li class="nav-item">
                        <a href class="nav-link" @click="logOut">Logout</a>
                    </li>
                </ul>
            </div>
            <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse"
                    data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false"
                    aria-label="Toggle navigation">
                <img id="iconetoggler" src="../public/icone-toggler.png" alt="icone du toggler">
            </button>
        </nav>
        <div>
            <router-view/>
        </div>
    </div>
</template>

<script>
    import login from '../src/components/Login'
    // import register from '../src/components/Register'
  export default {
    computed: {
      currentUser() {
        return this.$store.state.auth.user
      },
      showAdminBoard() {
        if (this.currentUser) {
          return this.currentUser.roles.includes('ROLE_ADMIN')
        }
        return false;
      },
      // showModeratorBoard() {
      //   if (this.currentUser) {
      //     return this.currentUser.roles.includes('ROLE_MODERATOR')
      //   }
      //
      //   return false;
      // }
    },
    methods: {
      logOut() {
        this.$store.dispatch('auth/logout')
        this.$router.push('/home')
      },
     loginModal() {
        this.$buefy.modal.open({
          parent: this,
          component: login,
          hasModalCard: true
        })
      }
      // ,
      // registerModal() {
      //   this.$buefy.modal.open({
      //     parent: this,
      //     component: register,
      //     hasModalCard: true
      //   })
      // }
    }
  }
</script>

<style>
    #app{
        font-family: "Comic Sans MS", serif;
    }
    #genNavbar{
        height: 20px;
    }
    .navbar-expand-sm {
         background-color: transparent;
    }
    #iconelogin{
        height: 25px;
    }
    #iconelogin:hover{
        transform: rotate(4deg);
    }
    #iconegithub{
        height: 25px;
    }
    #iconegithub:hover{
        transform: rotate(6deg);
    }
    #iconetwitter{
        height: 25px;
    }
    #iconetwitter:hover{
        transform: rotate(4deg);
    }
    #iconetoggler{
        height: 20px;
    }
    #affportfo:hover{
        transform: rotate(3deg);
    }
    .nav-item{
        text-align: right;

         }
    @media (max-width: 575px) {
        .nav-item{
            text-align: right;
            padding-right: 10px;
        }
    }
</style>